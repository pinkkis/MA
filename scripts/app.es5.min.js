"use strict";!function(){function t(t,a){t&&a&&$.getJSON("data/".concat(a,"?cache=")+Date.now()).done((function(a){t.empty();for(var n=[],e=0;e<5;e++){var s=a.splice(Math.random()*a.length|0,1);n.push(s[0])}n.forEach((function(a){var n,e,s=a.question.split("####"),i='<span class="question-line">'.concat(s[0],'</span>\n                                    <input type="text" class="user-input form-control" placeholder="answer">\n                                    <span class="question-line">').concat(s[1],"</span>"),o='<div class="question-item form-group">\n                        <div class="question" data-answer="'.concat(a.correctAnswer,'">\n                            ').concat(i,'\n                        </div>\n                        <div class="common-mistakes hidden">\n                            ').concat((n=a.commonMistakes,e="",n.forEach((function(t){e+='<div class="answer hidden" data-answer="'.concat(t.incorrectAnswer,'">').concat(t.explanation,"</div>")})),e),'\n                        </div>\n                        <div class="answer generic hidden">\n                            ').concat(a.explanation,"\n                        </div>\n                    </div>");t.append(o)}))})).fail((function(t,a,n){console.log(a,n)}))}function a(t,a){var n=!1;return t.forEach((function(t){t.toUpperCase()==a.toUpperCase()&&(n=!0)})),n}function n(t,a){t&&a&&(t.empty(),$.getJSON("data/".concat(a)).then((function(a){var n=a.splice(Math.random()*a.length|0,1)[0],e=$('<table class="quiz-table table-striped"/>');e.append('<tr><th colspan="'.concat(n.headerRow.length,'"><strong> ').concat(n.word," </strong></th></tr>"));var s="";s+="<tr>",n.headerRow.forEach((function(t){s+="<td><strong>".concat(t,"</strong></td>")})),s+="</tr>\n",n.rows.forEach((function(t){s+='<tr class="quiz-table-line">',t.forEach((function(t,a){s+=0===a?"<th><strong>".concat(t,"</strong></th>"):'<td><input type="text" class="user-input form-control" placeholder="answer" data-answer="'.concat(t,'"></td>')})),s+="</tr>"})),e.append(s),t.append(e),$("small").replaceWith("<small>In the table below, fill out the fully declined version of the word in the header.</small>"),$("#submit").replaceWith('<button class="solid-button button" id="table-submit">Submit</button>'),$("#again").replaceWith('<button class="solid-button button hidden" id="table-try-again">Try Again?</button>')})))}$(document).ready((function(){var e,s=$("#question-wrapper"),i=$("#question-wrapper"),o=i.data("question-file");t(i,o),$(".special-character").on("click",(function(t){t.preventDefault(),e&&e.val(e.val()+$(this).attr("data-char")).focus()})),s.on("focus","input",(function(){e=$(this)})),$(".audio-button").on("click",(function(){$(this).next(".audio-link").get(0).play()})),$("#additionalbutton").on("click",(function(){t($("#question-wrapper"),$(this).data("new-questions")),$(this).removeClass("light-button").addClass("solid-button"),$("#basicbutton").removeClass("solid-button").addClass("light-button active"),$("#again").data("new-questions")})),$("#basicbutton").on("click",(function(){t($("#question-wrapper"),$(this).data("new-questions")),$(this).removeClass("light-button").addClass("solid-button"),$("#additionalbutton").removeClass("solid-button").addClass("light-button active"),$("#again").data("new-questions")})),$("#hide-submit").on("click",(function(){$(".table-hide").toggle(),$(this).find("span").toggleClass("hide")})),$(".tooltip-header").each((function(){$(this).on("click",(function(){$(this).closest(".grammar-tooltip").siblings(".grammar-tooltip").find(".card-body").addClass("hide"),$(this).next(".card-body").toggleClass("hide")}))})),$("#submit").on("click",(function(t){t.preventDefault(),$(this).addClass("hidden"),$("#again").removeClass("hidden"),$(".question").each((function(){var t=$(this).attr("data-answer").split("|"),n=$(this).find("input").val().trim(),e=a(t,n),s=null;e||$(this).siblings(".common-mistakes").find(".answer").each((function(){a([$(this).attr("data-answer")],n)&&(s=$(this))})),e?$(this).closest(".form-group").addClass("has-success").removeClass("has-error"):$(this).closest(".form-group").removeClass("has-success").addClass("has-error"),null!=s?s.removeClass("hidden").parent().removeClass("hidden"):$(this).siblings(".answer").removeClass("hidden")}))})),$("#again").on("click",(function(a){a.preventDefault();var n,e=$("#question-wrapper");n=$("#additionalbutton").hasClass("active")?$("#additionalbutton").data("new-questions"):e.data("question-file"),$(this).addClass("hidden"),$("#submit").removeClass("hidden"),t(e,n)})),$("#questionnaire-button").on("click",(function(a){a.preventDefault();var n=$("#question-wrapper"),e=n.data("question-file");$(this).removeClass("light-button").addClass("solid-button"),$("#table-quiz-button").removeClass("solid-button").addClass("light-button"),t(n,e),$("small").replaceWith("<small>In the textboxes below, fill out the fully declined version of the word in brackets.</small>"),$("#table-submit").replaceWith('<button class="solid-button button" id="submit">Check</button>'),$("#table-try-again").replaceWith('<button class="solid-button button hidden" id="again">Try Again?</button>')})),$("#table-quiz-button").on("click",(function(t){t.preventDefault();var a=$("#question-wrapper"),e=a.data("table-file");$(this).removeClass("light-button").addClass("solid-button"),$("#questionnaire-button").removeClass("solid-button").addClass("light-button"),n(a,e),$("small").replaceWith("<small>In the table below, fill out the fully declined version of the word in the header</small>"),$("#submit").replaceWith('<button class="solid-button button" id="table-submit">Check</button>'),$("#again").replaceWith('<button class="solid-button button hidden" id="table-try-again">Try Again?</button>')})),$(".test-container").on("click","#table-submit",(function(t){t.preventDefault(),$(".user-input").each((function(){a($(this).attr("data-answer").split("|"),$(this).val().trim())?$(this).addClass("table-success").removeClass("table-error"):$(this).removeClass("table-success").addClass("table-error")})),$(this).addClass("hidden"),$("#table-try-again").removeClass("hidden")})),$(".test-container").on("click","#table-try-again",(function(t){t.preventDefault();var a=$("#question-wrapper"),e=a.data("table-file");$(this).addClass("hidden"),$("#table-submit").removeClass("hidden"),n(a,e)}))}))}();